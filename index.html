<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Cadastro Simples Firebase</title>
</head>
<body>

<h1>Cadastro de Usuários</h1>

<input type="text" id="name" placeholder="Nome">
<input type="text" id="login" placeholder="Login">
<input type="password" id="password" placeholder="Senha">
<select id="tipo">
  <option value="">Tipo</option>
  <option value="usuario">Usuário</option>
  <option value="gestor">Gestor</option>
</select>
<button onclick="addUser()">Cadastrar</button>

<h2>Usuários cadastrados</h2>
<ul id="usersList"></ul>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-database-compat.js"></script>

<script>
  // Configuração do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyDB41mLHYDSS0lyJ_kqBtjTsh0hd3Mn92A",
    authDomain: "fireapp-escalabc.firebaseapp.com",
    databaseURL: "https://fireapp-escalabc-default-rtdb.firebaseio.com",
    projectId: "fireapp-escalabc",
    storageBucket: "fireapp-escalabc.appspot.com",
    messagingSenderId: "76641115162",
    appId: "1:76641115162:web:4d78f078651361f24ec5a3"
  };

  // Inicializa Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // Função para adicionar usuário
  function addUser() {
    const name = document.getElementById("name").value;
    const login = document.getElementById("login").value;
    const password = document.getElementById("password").value;
    const tipo = document.getElementById("tipo").value;

    if (!name || !login || !password || !tipo) {
      alert("Preencha todos os campos!");
      return;
    }

    db.ref("usuarios").push({ name, login, password, tipo });
    document.getElementById("name").value = "";
    document.getElementById("login").value = "";
    document.getElementById("password").value = "";
    document.getElementById("tipo").value = "";
  }

  // Mostrar usuários em tempo real
  db.ref("usuarios").on("value", snapshot => {
    const list = document.getElementById("usersList");
    list.innerHTML = "";
    snapshot.forEach(snap => {
      const u = snap.val();
      const li = document.createElement("li");
      li.textContent = `${u.name} (${u.login}) - ${u.tipo}`;
      list.appendChild(li);
    });
  });
</script>

</body>
</html>
